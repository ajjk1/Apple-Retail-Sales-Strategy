[pytest]
# 엄격 모드: 마커/경고/실패 조건 + 커버리지 30% 미만 시 실패
addopts = -v --strict-markers -W default --tb=short --maxfail=5 --cov=main --cov-report=term-missing --cov-fail-under=45
# 테스트 수집
testpaths = tests
python_files = test_*.py
python_functions = test_*
python_classes = Test*
# 마커 (미등록 마커 사용 시 실패)
markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    integration: requires DB or external service
    unit: pure unit test, no I/O
